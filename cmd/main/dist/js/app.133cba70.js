(function(){"use strict";var o={8570:function(o,t,e){var n=e(5130),r=e(6768);const i={id:"app"};function l(o,t,e,n,l,u){const a=(0,r.g2)("BookForm"),s=(0,r.g2)("BookList");return(0,r.uX)(),(0,r.CE)("div",i,[t[0]||(t[0]=(0,r.Lk)("h1",null,"Book Store",-1)),(0,r.bF)(a,{book:l.editingBook,isProcessing:l.isProcessing,onCreateBook:u.createBook,onUpdateBook:u.updateBook},null,8,["book","isProcessing","onCreateBook","onUpdateBook"]),(0,r.bF)(s,{books:l.books,onBookDeleted:u.fetchBooks,onEditBook:u.editBook},null,8,["books","onBookDeleted","onEditBook"])])}var u=e(9336);const a="http://localhost:9010/book/";var s={getAllBooks(){return u.A.get(a+"all")},getBookById(o){return u.A.get(`${a}${o}`)},createBook(o){return u.A.post(a+"create",o)},updateBook(o,t){return u.A.put(`${a}update/${o}`,t)},deleteBook(o){return u.A.delete(`${a}delete/${o}`)}},c=e(4232);const k=["onClick"],d=["onClick"];function h(o,t,e,n,i,l){return(0,r.uX)(),(0,r.CE)("div",null,[t[1]||(t[1]=(0,r.Lk)("h2",null,"Books",-1)),(0,r.Lk)("table",null,[t[0]||(t[0]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID"),(0,r.Lk)("th",null,"Name"),(0,r.Lk)("th",null,"Author"),(0,r.Lk)("th",null,"Publication"),(0,r.Lk)("th",null,"Actions")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.books,(o=>((0,r.uX)(),(0,r.CE)("tr",{key:o.ID},[(0,r.Lk)("td",null,(0,c.v_)(o.ID),1),(0,r.Lk)("td",null,(0,c.v_)(o.name),1),(0,r.Lk)("td",null,(0,c.v_)(o.author),1),(0,r.Lk)("td",null,(0,c.v_)(o.publication),1),(0,r.Lk)("td",null,[(0,r.Lk)("button",{onClick:t=>l.confirmDelete(o.ID)},"Delete",8,k),(0,r.Lk)("button",{onClick:t=>l.editBook(o)},"Edit",8,d)])])))),128))])])])}var b={props:{books:Array},methods:{confirmDelete(o){const t=window.confirm("Are you sure you want to delete this book?");t&&this.deleteBook(o)},async deleteBook(o){if(o)try{await s.deleteBook(o),this.$emit("book-deleted")}catch(t){console.error("Error deleting book:",t)}else console.error("Error: bookID is undefined or null")},editBook(o){this.$emit("edit-book",o)}}},B=e(1241);const f=(0,B.A)(b,[["render",h]]);var p=f;const g={key:0},v={key:1},m=["disabled"];function y(o,t,e,i,l,u){return(0,r.uX)(),(0,r.CE)("div",null,[u.editingBook?((0,r.uX)(),(0,r.CE)("h2",v,"Edit Book")):((0,r.uX)(),(0,r.CE)("h2",g,"Create a New Book")),(0,r.Lk)("form",{onSubmit:t[3]||(t[3]=(0,n.D$)(((...o)=>u.handleSubmit&&u.handleSubmit(...o)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>l.localBook.name=o),placeholder:"Book Name",required:""},null,512),[[n.Jo,l.localBook.name]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>l.localBook.author=o),placeholder:"Author",required:""},null,512),[[n.Jo,l.localBook.author]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>l.localBook.publication=o),placeholder:"Publication",required:""},null,512),[[n.Jo,l.localBook.publication]]),(0,r.Lk)("button",{type:"submit",disabled:e.isProcessing},(0,c.v_)(u.buttonText),9,m)],32)])}var L={props:{book:Object,isProcessing:Boolean},data(){return{localBook:{...this.book}}},computed:{buttonText(){return this.editingBook?"Update Book":"Add Book"},editingBook(){return!!this.book.ID}},methods:{async handleSubmit(){this.editingBook?this.$emit("update-book",this.localBook):this.$emit("create-book",this.localBook)}},watch:{book(o){this.localBook={...o}}}};const w=(0,B.A)(L,[["render",y]]);var E=w,A={components:{BookList:p,BookForm:E},data(){return{books:[],editingBook:null,isProcessing:!1}},created(){this.fetchBooks()},methods:{async fetchBooks(){try{const o=await s.getAllBooks();this.books=o.data}catch(o){console.error("Error fetching books:",o)}},async createBook(){this.isProcessing=!0;try{await s.createBook(this.editingBook),await this.fetchBooks(),this.editingBook=null}catch(o){console.error("Error creating book:",o)}finally{this.isProcessing=!1}},async updateBook(){this.isProcessing=!0;try{await s.updateBook(this.editingBook.ID,this.editingBook),await this.fetchBooks(),this.editingBook=null}catch(o){console.error("Error updating book:",o)}finally{this.isProcessing=!1}},editBook(o){this.editingBook={...o}}}};const C=(0,B.A)(A,[["render",l]]);var P=C;(0,n.Ef)(P).mount("#app")}},t={};function e(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return o[n].call(i.exports,i,i.exports,e),i.exports}e.m=o,function(){var o=[];e.O=function(t,n,r,i){if(!n){var l=1/0;for(c=0;c<o.length;c++){n=o[c][0],r=o[c][1],i=o[c][2];for(var u=!0,a=0;a<n.length;a++)(!1&i||l>=i)&&Object.keys(e.O).every((function(o){return e.O[o](n[a])}))?n.splice(a--,1):(u=!1,i<l&&(l=i));if(u){o.splice(c--,1);var s=r();void 0!==s&&(t=s)}}return t}i=i||0;for(var c=o.length;c>0&&o[c-1][2]>i;c--)o[c]=o[c-1];o[c]=[n,r,i]}}(),function(){e.n=function(o){var t=o&&o.__esModule?function(){return o["default"]}:function(){return o};return e.d(t,{a:t}),t}}(),function(){e.d=function(o,t){for(var n in t)e.o(t,n)&&!e.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:t[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){e.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)}}(),function(){e.r=function(o){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}(),function(){var o={524:0};e.O.j=function(t){return 0===o[t]};var t=function(t,n){var r,i,l=n[0],u=n[1],a=n[2],s=0;if(l.some((function(t){return 0!==o[t]}))){for(r in u)e.o(u,r)&&(e.m[r]=u[r]);if(a)var c=a(e)}for(t&&t(n);s<l.length;s++)i=l[s],e.o(o,i)&&o[i]&&o[i][0](),o[i]=0;return e.O(c)},n=self["webpackChunkbook_store"]=self["webpackChunkbook_store"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=e.O(void 0,[504],(function(){return e(8570)}));n=e.O(n)})();
//# sourceMappingURL=app.133cba70.js.map